LoadModule proxy_module modules/mod_proxy.so
LoadModule proxy_http_module modules/mod_proxy_http.so
LoadModule proxy_ajp_module modules/mod_proxy_ajp.so
LoadModule proxy_ftp_module modules/mod_proxy_ftp.so
LoadModule proxy_balancer_module modules/mod_proxy_balancer.so

<Location /status-proxy>
    SetHandler balancer-manager
    Allow from all
</Location>

ProxyPass /status-proxy !

{% for c in clusters -%}
<Proxy "balancer://{{ c.name }}">
ProxySet stickysession=JSESSIONID
</Proxy>

{% for u in c.urls|default([]) -%}
ProxyPass "{{ u }}" "balancer://{{ c.name }}{{ u }}"
ProxyPassReverse "{{ u }}" "balancer://{{ c.name }}{{ u }}"
{% endfor %}

{% endfor %}